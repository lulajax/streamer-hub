# MCA å›¢æ’­å·¥å…· (Multi-Caster Assistant)

ä¸€æ¬¾ä¸“ä¸º TikTok ç›´æ’­é—´å›¢æ’­è®¾è®¡çš„è¾…åŠ©å·¥å…·ï¼Œæ”¯æŒè´´çº¸èˆã€æ”»å®ˆæ“‚(PK)ã€è‡ªç”±ä¸‰ç§å›¢æ’­æ¨¡å¼ï¼Œæä¾›å®æ—¶ç¤¼ç‰©æ•°æ®é‡‡é›†ã€ä¸»æ’­æ¦œå•ç»Ÿè®¡ã€ç”¨æˆ·ç»‘å®šåˆ†é…ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ç”¨æˆ·ç³»ç»Ÿ
- ğŸ“§ **é‚®ç®±æ³¨å†Œ** - æ”¯æŒé‚®ç®±æ³¨å†Œå’ŒéªŒè¯
- ğŸ” **å®‰å…¨ç™»å½•** - JWT Token èº«ä»½éªŒè¯
- ğŸ’ **æ¿€æ´»ç æ¿€æ´»** - é€šè¿‡æ¿€æ´»ç è§£é”é«˜çº§æƒç›Š (BASIC/PRO/ENTERPRISE)
- ğŸ‘¤ **ç”¨æˆ·ç®¡ç†** - ä¸ªäººèµ„æ–™ã€è®¢é˜…ç®¡ç†

### TikTok ç›´æ’­é›†æˆ
- ğŸ”— **TikTok-Live-Connector** - ä½¿ç”¨å¼€æºé¡¹ç›®å®ç°ç›´æ’­æ•°æ®é‡‡é›†
- ğŸ“º **å¼€æ’­æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹ä¸»æ’­æ˜¯å¦åœ¨çº¿
- ğŸ **ç¤¼ç‰©æ•°æ®** - å®æ—¶è·å–ç›´æ’­é—´ç¤¼ç‰©ä¿¡æ¯
- ğŸ‘¥ **ç”¨æˆ·äº’åŠ¨** - æ¥æ”¶è¯„è®ºã€ç‚¹èµã€å…³æ³¨ç­‰äº‹ä»¶
- ğŸ“Š **æˆ¿é—´ä¿¡æ¯** - è·å–ç›´æ’­é—´æ ‡é¢˜ã€è§‚çœ‹äººæ•°ç­‰

### æ¸¸æˆæ¨¡å¼
- ğŸ­ **è´´çº¸èˆæ¨¡å¼** - æ™®é€š/è®¡ç¥¨æ¨¡å¼ã€å€’è®¡æ—¶ã€è¡°å‡æœºåˆ¶ã€è‡ªåŠ¨ç¿»é¡µ
- âš”ï¸ **æ”»å®ˆæ“‚(PK)æ¨¡å¼** - æ”»å®ˆåŒæ–¹é…ç½®ã€å®æ—¶è¿›åº¦æ¡ã€å†»ç»“ç‰¹æ•ˆ
- ğŸ¯ **è‡ªç”±æ¨¡å¼** - ä¸»æ’­è½®æµå‡ºåœºã€è¾¾æ ‡åˆ†æ•°è®¾å®š

### æ•°æ®ç®¡ç†
- ğŸ“ˆ **å®æ—¶æ¦œå•** - ä¸»æ’­åˆ†æ•°æ’è¡Œ
- ğŸ“‘ **ç¤¼ç‰©è®°å½•** - è¯¦ç»†çš„æ”¶ç¤¼è®°å½•
- ğŸ“Š **æ•°æ®æŠ¥è¡¨** - Excel å¯¼å‡ºã€ç»Ÿè®¡åˆ†æ
- ğŸ”— **OBS æŒ‚ä»¶** - ç›´æ’­é—´æŒ‚ä»¶é“¾æ¥ç”Ÿæˆ

### å¤šè¯­è¨€æ”¯æŒ
- ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡
- ğŸ‡ºğŸ‡¸ English
- ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t
- ğŸ‡¹ğŸ‡­ à¹„à¸—à¸¢

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Electron 28 + React 18 + TypeScript
- **æ„å»º**: Vite 5
- **æ ·å¼**: Tailwind CSS + shadcn/ui
- **çŠ¶æ€**: Zustand
- **å¤šè¯­è¨€**: i18next
- **å›¾è¡¨**: Recharts

### åç«¯
- **æ¡†æ¶**: Spring Boot 3.2 + Java 21
- **æ•°æ®åº“**: PostgreSQL 15+
- **ç¼“å­˜**: Redis 7+
- **å®æ—¶é€šä¿¡**: WebSocket
- **é‚®ä»¶æœåŠ¡**: Spring Mail
- **å®‰å…¨**: Spring Security + JWT

### TikTok æ•°æ®é‡‡é›†
- **TikTok-Live-Connector** - [GitHub](https://github.com/zerodytrash/TikTok-Live-Connector)
- ä½¿ç”¨ Euler Stream API è¿›è¡Œç­¾åéªŒè¯
- WebSocket å®æ—¶æ¥æ”¶ç›´æ’­äº‹ä»¶

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 20+
- Java 21
- PostgreSQL 15+
- Redis 7+
- SMTP é‚®ä»¶æœåŠ¡å™¨ (ç”¨äºå‘é€éªŒè¯é‚®ä»¶)

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/mca-replica.git
cd mca-replica
```

#### 2. é…ç½®åç«¯

```bash
cd mca-server

# é…ç½®æ•°æ®åº“
# ç¼–è¾‘ src/main/resources/application.yml

# é…ç½®é‚®ä»¶æœåŠ¡
spring:
  mail:
    host: smtp.gmail.com
    port: 587
    username: your-email@gmail.com
    password: your-app-password

# è¿è¡Œåç«¯
./mvnw spring-boot:run
```

#### 3. é…ç½®å‰ç«¯

```bash
cd mca-electron

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# æ‰“åŒ…åº”ç”¨
npm run build:win    # Windows
npm run build:mac    # macOS
npm run build:linux  # Linux
```

### æ•°æ®åº“åˆå§‹åŒ–

```sql
-- PostgreSQL
CREATE DATABASE mca_db;
CREATE USER mca_user WITH PASSWORD 'mca_password';
GRANT ALL PRIVILEGES ON DATABASE mca_db TO mca_user;
```

## ä½¿ç”¨æŒ‡å—

### 1. æ³¨å†Œè´¦å·

1. æ‰“å¼€åº”ç”¨ï¼Œç‚¹å‡»"Register"
2. è¾“å…¥é‚®ç®±ã€å¯†ç ã€æ˜µç§°
3. æ£€æŸ¥é‚®ç®±ï¼Œç‚¹å‡»éªŒè¯é“¾æ¥

### 2. æ¿€æ´»æƒç›Š

1. ç™»å½•åï¼Œè¾“å…¥æ¿€æ´»ç æ¿€æ´»é«˜çº§æƒç›Š
2. æ¿€æ´»ç æ ¼å¼: `BAS-XXXXXXXXXXXX`, `PRO-XXXXXXXXXXXX`, `ENT-XXXXXXXXXXXX`
3. ä¸åŒçº§åˆ«è§£é”ä¸åŒåŠŸèƒ½

### 3. è¿æ¥ç›´æ’­é—´

1. è¾“å…¥ TikTok ä¸»æ’­ ID (å¦‚: @username)
2. ç‚¹å‡»"Connect"è¿æ¥ç›´æ’­é—´
3. ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹ä¸»æ’­æ˜¯å¦åœ¨çº¿

### 4. ä½¿ç”¨æ¸¸æˆæ¨¡å¼

1. é€‰æ‹©æ¸¸æˆæ¨¡å¼ (è´´çº¸èˆ/PK/è‡ªç”±)
2. é…ç½®ä¸»æ’­å’Œç¤¼ç‰©
3. ç‚¹å‡»"Start"å¼€å§‹æ¸¸æˆ

### 5. OBS é›†æˆ

1. è¿›å…¥"Widgets"é¡µé¢
2. å¤åˆ¶éœ€è¦çš„æŒ‚ä»¶é“¾æ¥
3. åœ¨ OBS ä¸­æ·»åŠ "æµè§ˆå™¨æº"
4. ç²˜è´´é“¾æ¥å¹¶è°ƒæ•´å¤§å°

## API æ–‡æ¡£

### è®¤è¯ç›¸å…³

```
POST   /api/auth/register              # æ³¨å†Œ
GET    /api/auth/verify-email          # éªŒè¯é‚®ç®±
POST   /api/auth/login                 # ç™»å½•
POST   /api/auth/activate              # æ¿€æ´»æƒç›Š
GET    /api/auth/me                    # è·å–å½“å‰ç”¨æˆ·
POST   /api/auth/forgot-password       # å¿˜è®°å¯†ç 
POST   /api/auth/reset-password        # é‡ç½®å¯†ç 
```

### TikTok ç›´æ’­ç›¸å…³

```
GET    /api/tiktok/is-live/{uniqueId}  # æ£€æŸ¥æ˜¯å¦åœ¨çº¿
GET    /api/tiktok/room-info/{uniqueId} # è·å–æˆ¿é—´ä¿¡æ¯
GET    /api/tiktok/room-id/{uniqueId}   # è·å–æˆ¿é—´ID
GET    /api/tiktok/gifts/{roomId}       # è·å–å¯ç”¨ç¤¼ç‰©
GET    /api/tiktok/websocket-url        # è·å–WebSocketè¿æ¥
GET    /api/tiktok/connect-info/{uniqueId} # è·å–å®Œæ•´è¿æ¥ä¿¡æ¯
```

### ç¤¼ç‰©ç›¸å…³

```
POST   /api/gifts/session/{sessionId}   # è®°å½•ç¤¼ç‰©
GET    /api/gifts/session/{sessionId}   # è·å–ç¤¼ç‰©è®°å½•
PUT    /api/gifts/{giftId}/bind         # ç»‘å®šç¤¼ç‰©
```

### ä¼šè¯ç›¸å…³

```
POST   /api/sessions                    # åˆ›å»ºä¼šè¯
POST   /api/sessions/{id}/start         # å¼€å§‹ä¼šè¯
POST   /api/sessions/{id}/pause         # æš‚åœä¼šè¯
POST   /api/sessions/{id}/end           # ç»“æŸä¼šè¯
```

## é…ç½®æ–‡ä»¶

### åç«¯é…ç½® (application.yml)

```yaml
server:
  port: 8080

spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/mca_db
    username: mca_user
    password: mca_password
  
  redis:
    host: localhost
    port: 6379
  
  mail:
    host: smtp.gmail.com
    port: 587
    username: your-email@gmail.com
    password: your-app-password

jwt:
  secret: your-secret-key
  expiration: 86400000

mca:
  activation:
    default-expiry-days: 365
  tiktok:
    sign-api-key: ""  # Optional: Euler Stream API key
```

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
mca-replica/
â”œâ”€â”€ mca-electron/          # Electron å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ hooks/         # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ stores/        # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ types/         # TypeScript ç±»å‹
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ mca-server/            # Spring Boot åç«¯
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â”‚   â””â”€â”€ com/mca/server/
â”‚   â”‚       â”œâ”€â”€ controller/  # API æ§åˆ¶å™¨
â”‚   â”‚       â”œâ”€â”€ service/     # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚       â”œâ”€â”€ repository/  # æ•°æ®è®¿é—®
â”‚   â”‚       â”œâ”€â”€ entity/      # å®ä½“ç±»
â”‚   â”‚       â””â”€â”€ dto/         # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â””â”€â”€ pom.xml
â”‚
â””â”€â”€ README.md
```

### å¼€å‘æ¨¡å¼è¿è¡Œ

```bash
# ç»ˆç«¯ 1: è¿è¡Œåç«¯
cd mca-server
./mvnw spring-boot:run

# ç»ˆç«¯ 2: è¿è¡Œå‰ç«¯
cd mca-electron
npm run dev
```

## éƒ¨ç½²æŒ‡å—

### Docker éƒ¨ç½² (æ¨è)

```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

### æ‰‹åŠ¨éƒ¨ç½²

1. **éƒ¨ç½²åç«¯**
   ```bash
   cd mca-server
   ./mvnw clean package -DskipTests
   java -jar target/mca-server-1.0.0.jar
   ```

2. **éƒ¨ç½²å‰ç«¯**
   ```bash
   cd mca-electron
   npm run build
   # åˆ†å‘æ‰“åŒ…åçš„åº”ç”¨
   ```

## å¸¸è§é—®é¢˜

### Q: é‚®ä»¶å‘é€å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥é‚®ä»¶æœåŠ¡å™¨é…ç½®ï¼Œç¡®ä¿ SMTP è®¾ç½®æ­£ç¡®ã€‚å¯¹äº Gmailï¼Œéœ€è¦ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ã€‚

### Q: TikTok è¿æ¥å¤±è´¥ï¼Ÿ
A: 
- ç¡®ä¿ä¸»æ’­æ­£åœ¨ç›´æ’­
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- éƒ¨åˆ†åœ°åŒºå¯èƒ½éœ€è¦ VPN
- æ£€æŸ¥ Euler Stream API çŠ¶æ€

### Q: OBS æŒ‚ä»¶ä¸æ˜¾ç¤ºï¼Ÿ
A: 
- ç¡®ä¿ OBS å¯ä»¥è®¿é—®åç«¯æœåŠ¡
- æ£€æŸ¥æŒ‚ä»¶ URL æ˜¯å¦æ­£ç¡®
- å°è¯•åˆ·æ–°æµè§ˆå™¨æº

### Q: æ¿€æ´»ç æ— æ•ˆï¼Ÿ
A: 
- æ£€æŸ¥æ¿€æ´»ç æ ¼å¼æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æ¿€æ´»ç æœªè¢«ä½¿ç”¨
- è”ç³»ç®¡ç†å‘˜è·å–æ–°æ¿€æ´»ç 

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## è®¸å¯è¯

MIT License

## è‡´è°¢

- [TikTok-Live-Connector](https://github.com/zerodytrash/TikTok-Live-Connector) - TikTok ç›´æ’­æ•°æ®é‡‡é›†
- [shadcn/ui](https://ui.shadcn.com/) - UI ç»„ä»¶åº“
- [Spring Boot](https://spring.io/projects/spring-boot) - åç«¯æ¡†æ¶

## è”ç³»æ–¹å¼

- é‚®ç®±: support@mca-app.com
- å®˜ç½‘: https://mca-app.com
